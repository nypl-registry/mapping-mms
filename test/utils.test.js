/* global describe, it */

'use strict'
var assert = require('assert') // eslint-disable-line
var should = require('should') // eslint-disable-line
var mapUtils = require('../lib/utils.js')

describe('mapUtils lib/utils.js', function () {
  it('it should compare mms and archives titles for a callnumber match and return the best or no match', function () {
    var noMatch = {'mmsCollection': {'_id': '8efcea80-c607-012f-fa22-58d385a7bc34', 'mmsDb': '27978', 'mmsType': 'Collection', 'mmsUuid': '8efcea80-c607-012f-fa22-58d385a7bc34', 'dates': [{'field': 'dateCreated', 'type': 'w3cdtf', 'value': '1880', 'keyDate': 'yes', 'point': 'start', 'encoding': false}, {'field': 'dateCreated', 'type': 'w3cdtf', 'value': '1950', 'keyDate': false, 'point': 'end', 'encoding': false}], 'title': 'Joe Laurie, Jr. papers, 1880-1950.', 'originInfo': '18801950', 'dateCreated': '1950', 'hades': '1943799', 'bNumber': 'b16514437', 'catnyp': 'b8506521', 'oclc': 'NYPW96-A171', 'callNumber': '8-MWEZ', 'sourceSystem': 'mms', 'rightsAgents': false, 'agents': [{'namePart': 'Laurie, Joe (1893-1954)', 'type': 'personal', 'authority': 'naf', 'valueURI': false, 'usage': false, 'role': ['http://id.loc.gov/vocabulary/relators/col']}], 'subjects': [], 'divisions': ['THE'], 'notes': [{'type': 'ownership', 'text': '1.1\\a 1996 30 lin. ft.'}, {'type': 'content', 'text': 'Joe Laurie, Jr., star of vaudeville, radio and television.'}, {'type': 'content', 'text': "The Joe Laurie, Jr. papers contain original art work, posters, photographs, programs, clippings, scripts and sketches, manuscripts and correspondence and document Joe Laurie's career in vaudeville, radio and television."}, {'type': 'ownership', 'text': 'THE Mss'}], 'titles': [{'primary': true, 'title': 'Joe Laurie, Jr. papers, 1880-1950.', 'subTitle': false, 'partName': false, 'partNumber': false, 'supplied': 'no', 'lang': 'eng', 'script': false, 'type': false, 'authority': false}], 'languages': [], 'typeOfResource': [], 'abstracts': [], 'genres': [], 'physicalDescriptions': [{'form': [], 'extent': ['30 lf.>']}], 'originInfos': [{'place': [], 'publisher': []}]}, 'archivesCollections': [{'_id': 3596, 'title': 'L. B. Wilson papers', 'mssDb': 3596, 'mss': 21755, 'bNumber': 'b16135365', 'callNumber': '8-MWEZ', 'divisions': 'THE', 'type': 'Collection', 'agents': [{'id': 36813, 'namePart': 'Wilson, L. B.', 'type': 'persname', 'authority': 'naf', 'role': 'originator', 'valueURI': 'http://viaf.org/viaf/191926671'}], 'subjects': [], 'notes': [{'type': false, 'text': '<p>Card catalog available.</p>'}], 'languages': [], 'dates': [], 'abstracts': []}, {'_id': 4212, 'title': 'Maurice Zolotow papers', 'mssDb': 4212, 'mss': 21752, 'bNumber': 'b16135358', 'callNumber': '8-MWEZ', 'divisions': 'THE', 'type': 'Collection', 'agents': [{'id': 36966, 'namePart': 'Zolotow, Maurice', 'type': 'persname', 'authority': false, 'role': 'originator', 'valueURI': false}, {'id': 17156, 'namePart': 'Fontanne, Lynn', 'type': 'persname', 'authority': 'naf', 'role': 'contributor', 'valueURI': false}, {'id': 17157, 'namePart': 'Lunt, Alfred.', 'type': 'persname', 'authority': 'naf', 'role': 'contributor', 'valueURI': false}], 'subjects': [], 'notes': [{'type': 'scopecontent', 'text': '<p>Materials regarding Alfred Lunt and Lynn Fontanne.</p>'}, {'type': false, 'text': '<p>Papers closed for processing</p>'}], 'languages': [], 'dates': [], 'abstracts': [' Materials regarding Alfred Lunt and Lynn Fontanne.']}, {'_id': 5781, 'title': 'Stark Young correspondence', 'mssDb': 5781, 'mss': 21754, 'bNumber': 'b16135364', 'callNumber': '8-MWEZ', 'divisions': 'THE', 'type': 'Collection', 'agents': [{'id': 20441, 'namePart': 'Young, Stark, 1881-1963', 'type': 'persname', 'authority': 'naf', 'role': 'originator', 'valueURI': 'http://viaf.org/viaf/25406862'}], 'subjects': [], 'notes': [{'type': 'scopecontent', 'text': '<p>Correspondence regarding the life and career of playwright, Stark Young.</p>'}, {'type': false, 'text': '<p>Card catalog available.</p>'}], 'languages': [], 'dates': [], 'abstracts': [' Correspondence regarding the life and career of playwright, Stark Young.']}]}
    var shouldMatch = {'mmsCollection': {'_id': 'ef6d26f0-c760-0132-f87d-58d385a7bbd0', 'mmsDb': '41878', 'mmsType': 'Collection', 'mmsUuid': 'ef6d26f0-c760-0132-f87d-58d385a7bbd0', 'dates': [], 'title': 'Anne Nichols papers, 1873-1965.', 'tmsId': '21586', 'callNumber': '*T-Mss 2001-012', 'sourceSystem': 'mms', 'rightsAgents': false, 'agents': [], 'subjects': [], 'divisions': ['THE'], 'notes': [], 'titles': [{'primary': true, 'title': 'Anne Nichols papers, 1873-1965.', 'subTitle': false, 'partName': false, 'partNumber': false, 'supplied': false, 'lang': false, 'script': false, 'type': false, 'authority': false}], 'languages': [], 'typeOfResource': [], 'abstracts': [], 'genres': [], 'physicalDescriptions': [{'form': [], 'extent': ['1.42 linear feet.']}], 'originInfos': []}, 'archivesCollections': [{'_id': 416, 'title': 'Anne Nichols papers', 'dateStatement': '1873-1965', 'mssDb': 416, 'mss': 21586, 'bNumber': 'b15243207', 'callNumber': '*T-Mss 2001-012', 'divisions': 'THE', 'type': 'Collection', 'agents': [{'id': 6430, 'namePart': 'Nichols, Anne, 1891-1966', 'type': 'persname', 'authority': 'naf', 'role': 'originator', 'valueURI': 'http://viaf.org/viaf/92280820'}, {'id': 6431, 'namePart': 'Lignemare, William de', 'type': 'persname', 'authority': 'naf', 'role': 'contributor', 'valueURI': false}], 'subjects': [{'id': 3267, 'type': 'genreform', 'nameType': 'genreform', 'authority': 'ftamc', 'valueURI': false, 'text': 'Correspondence'}, {'id': 6433, 'type': 'topic', 'nameType': 'subject', 'authority': 'lcsh', 'valueURI': false, 'text': 'Motion pictures -- United States'}, {'id': 3154, 'type': 'topic', 'nameType': 'subject', 'authority': 'lcsh', 'valueURI': false, 'text': 'Theater -- New York (State) -- New York'}, {'id': 6432, 'type': 'topic', 'nameType': 'subject', 'authority': 'lcsh', 'valueURI': false, 'text': 'Women dramatists, American -- United States'}], 'notes': [{'type': 'bioghist', 'text': "<p>Anne Nichols was a playwright best known for the highly successful comedy ABIE'S IRISH ROSE, which opened on Broadway in 1922, ran for five years, and inspired two movies and a radio series. Born in Dales Mill, Georgia, in 1891, Anne Nichols became an actress as a teenager and appeared on stage and in two early silent movies by the age of 20. Her first full-length work as a playwright was HEARTS DESIRE, written with Adelaide Matthews, with whom Nichols also co-authored JUST MARRIED (1922). Writing alone, Nichols provided the libretto for the musical LOVE DREAMS (1921). ABIE'S IRISH ROSE, a comedy about the romance between an Irish girl and a Jewish boy and the inter-family clash that results, received poor reviews from most critics when it opened in 1922, but audiences loved it, and kept the play running for over 2,300 performances until October 1927. A silent film adaptation starring Buddy Rogers was released in 1929, and a sound version, produced by Bing Crosby, in 1946. The premise was also adapted into a radio series, which ran from 1942 to 1944. Anne Nichols wrote several other plays and directed as well, and later managed property for the Actors' Fund. She died in Englewood Cliffs, New Jersey, on September 15, 1966, at the age of 74.</p>"}, {'type': 'scopecontent', 'text': "<p>The Anne Nichols papers contain correspondence and writings documenting a portion of her career, with the emphasis on ABIE'S IRISH ROSE. Other materials include legal files dealing with the will of William de Lignemare. There are also files and correspondence dealing with property belonging to the Actors' Fund that Anne Nichols managed for them.</p>"}], 'languages': [], 'dates': [{'field': 'inclusive', 'type': false, 'value': 1873, 'keyDate': false, 'point': 'start', 'encoding': false}, {'field': 'inclusive', 'type': false, 'value': 1965, 'keyDate': false, 'point': 'end', 'encoding': false}, {'field': 'exact', 'type': false, 'value': '1873', 'keyDate': true, 'point': false, 'encoding': false}], 'abstracts': ["Anne Nichols was a playwright best known for the highly successful comedy ABIE'S IRISH ROSE, which opened on Broadway in 1922, ran for five years, and inspired two movies and a radio series. Born in Dales Mill, Georgia, in 1891, Anne Nichols became an actress as a teenager and appeared on stage and in two early silent movies by the age of 20. Her first full-length work as a playwright was HEARTS DESIRE, written with Adelaide Matthews, with whom Nichols also co-authored JUST MARRIED (1922). Writing alone, Nichols provided the libretto for the musical LOVE DREAMS (1921). ABIE'S IRISH ROSE, a comedy about the romance between an Irish girl and a Jewish boy and the inter-family clash that results, received poor reviews from most critics when it opened in 1922, but audiences loved it, and kept the play running for over 2,300 performances until October 1927. A silent film adaptation starring Buddy Rogers was released in 1929, and a sound version, produced by Bing Crosby, in 1946. The premise was also adapted into a radio series, which ran from 1942 to 1944. Anne Nichols wrote several other plays and directed as well, and later managed property for the Actors' Fund. She died in Englewood Cliffs, New Jersey, on September 15, 1966, at the age of 74. The Anne Nichols papers contain correspondence and writings documenting a portion of her career, with the emphasis on ABIE'S IRISH ROSE. Other materials include legal files dealing with the will of William de Lignemare. There are also files and correspondence dealing with property belonging to the Actors' Fund that Anne Nichols managed for them."]}, {'_id': 10056, 'title': 'Anne Nichols papers, Additions', 'dateStatement': '1925-1955 [bulk 1940s-1955]', 'mssDb': 10056, 'mss': 22679, 'bNumber': 'b20792774', 'callNumber': '*T-Mss 2001-012', 'divisions': 'THE', 'type': 'Collection', 'agents': [{'id': 190411, 'namePart': 'Nichols, Anne, 1891-1966', 'type': 'persname', 'authority': 'naf', 'role': 'creator', 'valueURI': false}], 'subjects': [{'id': 4429, 'type': 'genreform', 'nameType': 'genreform', 'authority': 'aat', 'valueURI': false, 'text': 'Letters (correspondence)'}, {'id': 6266, 'type': 'genreform', 'nameType': 'genreform', 'authority': 'aat', 'valueURI': false, 'text': 'Sheet music'}, {'id': 159831, 'type': 'genreform', 'nameType': 'genreform', 'authority': 'aat', 'valueURI': false, 'text': 'Writings (document genre)'}, {'id': 3154, 'type': 'topic', 'nameType': 'subject', 'authority': 'lcsh', 'valueURI': false, 'text': 'Theater -- New York (State) -- New York'}, {'id': 15038, 'type': 'topic', 'nameType': 'occupation', 'authority': 'lcsh', 'valueURI': false, 'text': 'Women dramatists'}], 'notes': [{'type': 'bioghist', 'text': "<p>Anne Nichols (1891-1966) was an American playwright. Throughout her career she wrote several plays, but she was best known for her successful comedy Abie's Irish Rose. The comedy opened on Broadway in 1922 and ran until 1927 with over 2300 performances. It later inspired two film adaptations and a radio series. The stage production of Abie's Irish Rose saw a resurgence in the 1940s.</p>"}, {'type': 'scopecontent', 'text': "<p>The Anne Nichols papers, Additions date from 1925 to 1955 (bulk dates 1940s-1955) and contain clippings, photographs, programs, writings, letters, sheet music, and recordings.</p> <p>The bulk of the collection relates to the 1944 resurgence of Nichols' play Abie's Irish Rose during its 22nd anniversary. The programs, photographs, and clippings document the numerous productions across the country in cities such as Los Angeles, Detroit, Chicago, Boston, and New York City.</p> <p>The collection also reflects Nichols' interest in writing both a musical and an autobiography. Materials related to the development of a musical include a copy of “It's the Little Things that Count” written by Nichols and Adelaide Matthews. This verse is accompanied by a draft of sheet music. Other sheet music and verses in the collection appear to be reference materials. The recordings were also used for research and include well-known compositions such as Homage to Rameau by French composer Claude Debussy, music by Louise Lyon, and experimentation with sound.</p> <p>The autobiographical project is represented through typewritten recollections about Nichols' childhood, her introduction to New York City theater, the development of her early work, and the reception of Abie's Irish Rose. The manuscript drafts communicate Nichols' desire to publish this project through the organization of her recollections with accompanying chapter notes, page numbers, and edits.</p> <p>Additionally, the collection includes letters that pertain to personal matters and the development of a few plays.</p>"}, {'type': 'acqinfo', 'text': '<p>Donated by Louis Simon, 1974.</p>'}, {'type': 'relatedmaterial', 'text': '<span class="archref">Anne Nichols papers, 1873-1965. Billy Rose Theatre Division, The New York Public Library for the Performing Arts.</span>'}], 'languages': [], 'dates': [{'field': 'inclusive', 'type': false, 'value': 1925, 'keyDate': false, 'point': 'start', 'encoding': false}, {'field': 'inclusive', 'type': false, 'value': 1955, 'keyDate': false, 'point': 'end', 'encoding': false}, {'field': 'exact', 'type': false, 'value': '1925', 'keyDate': true, 'point': false, 'encoding': false}], 'abstracts': ["Anne Nichols (1891-1966) was an American playwright. The Anne Nichols papers, Additions date from 1925 to 1955 and predominantly document the resurgence of her play Abie's Irish Rose through clippings, photographs, and a few programs. The collection also includes writings, letters, sheet music, and recordings."]}]} // eslint-disable-line

    var r = mapUtils.compareCollectionCallNumberMatch(shouldMatch)
    r.archivesCollections[0].title.should.equal('Anne Nichols papers')

    var r2 = mapUtils.compareCollectionCallNumberMatch(noMatch)
    r2.archivesCollections.length.should.equal(0)
  })

  it('it should compare two collection titles and return false', function () {
    var r = mapUtils.compareCollectionTitles('Arthur Bell Collection of Recorded Interviews, 1970-1980', 'Arthur Unger collection of recorded interviews [sound recording]')
    r.should.equal(false)
  })
  it('it should compare two collection titles and return true', function () {
    var r = mapUtils.compareCollectionTitles('American Society of American Magicians Monthly', 'Society of American Magicians records')
    r.should.equal(true)
  })

  it('should parse archives_repo_objects row results into mapped obj', function () {
    var data = ['2190', '2222', 'Component', '044b9be0-0025-0130-de89-58d385a7bc34', 'image', '1', '[{"uuid":"bb4ebb8a-0db7-c85e-e040-e00a18063bc4","image_id":"4009441"}]', 'NULL', '2013-01-09 19:54:27', '2013-01-09 19:54:27', '1']
    var r = mapUtils.mapRepoCsvToJson(data)
    r.describable_id.should.equal('2222')
    r.capture_ids.should.equal('[{"uuid":"bb4ebb8a-0db7-c85e-e040-e00a18063bc4","image_id":"4009441"}]')
  })

  it('should build a mapping lookup object of a mms collection (EMMET)', function (done) {
    this.timeout(10000)
    var mmsColl = { '_id': '02d1c8f0-c52d-012f-a615-58d385a7bc34', 'mmsDb': '25781', 'mmsType': 'Collection', 'mmsUuid': '02d1c8f0-c52d-012f-a615-58d385a7bc34', 'dates': [ { 'field': 'dateCreated', 'type': 'w3cdtf', 'value': '1483', 'keyDate': 'yes', 'point': 'start', 'encoding': false }, { 'field': 'dateCreated', 'type': 'w3cdtf', 'value': '1876', 'keyDate': false, 'point': 'end', 'encoding': false } ], 'title': 'Thomas Addis Emmet collection, 1483-1876, bulk (1700-1800)', 'originInfo': '14831876', 'dateCreated': '1876', 'hades': '1749752', 'catnyp': 'b3195144', 'bNumber': 'b11868616', 'hadesCollection': '166', 'callNumber': 'MssCol 927', 'sourceSystem': 'mms', 'rightsAgents': false, 'agents': [ { 'namePart': 'Emmet, Thomas Addis (1828-1919)', 'type': 'personal', 'authority': 'naf', 'valueURI': false, 'usage': false, 'role': [ 'http://id.loc.gov/vocabulary/relators/col' ] } ], 'subjects': [], 'divisions': [ 'MSS' ], 'notes': [], 'titles': [ { 'primary': true, 'title': 'Thomas Addis Emmet collection, 1483-1876, bulk (1700-1800)', 'subTitle': false, 'partName': false, 'partNumber': false, 'supplied': 'yes', 'lang': 'eng', 'script': false, 'type': false, 'authority': false } ], 'languages': [], 'typeOfResource': [ 'text' ], 'abstracts': [], 'genres': [ { 'authority': 'lctgm', 'valueURI': 'http://id.loc.gov/vocabulary/graphicMaterials/tgm012286', 'text': 'Manuscripts' } ], 'physicalDescriptions': [], 'originInfos': [ { 'place': [], 'publisher': [] } ], 'matchedArchives': true, 'matchedArchivesType': 'identifier', 'archivesCollectionDb': [ 1 ] }
    if (process.env.NODE_ENV && process.env.NODE_ENV === 'travis') {
      console.log('Cannot currently run this test on Travis')
      done()
      return true
    }
    mapUtils.returnMmsCollectionDetails(mmsColl, (err, results) => {
      if (results.itemCountMatchedToArchives === 0 && results.componentCountMatchedToMms === 0) {
        console.log('This test needs to be run after the archives to mms mapping methods (non-hierarchy) have been run, looks like no matches were found.')
        done()
        return true
      }

      if (err) console.log(err)
      results.containerCount.should.above(70)
      results.containerCountMatchedToArchives.should.equal(0)
      results.itemCount.should.above(5000)
      results.seriesCount.should.above(25)
      results.itemCountMatchedToArchives.should.above(5000)
      results.componentCount.should.above(5000)
      results.seriesCountMatchedToMms.should.equal(0)
      results.componentCountMatchedToMms.should.above(5000)

      results.mmsContainers.length.should.above(25)
      results.mmsItems.length.should.above(5000)
      results.archivesComponents.length.should.above(5000)

      done()
    })
  })
  // THIS NEEDS SOOOMUCH MORE TESTING....
  it('should build mapping relationship between mms containers/items based on hiearchy', function (done) {
    var data = {'containerCountMatchedToArchives': 0,'containerCount': 4,'itemCountMatchedToArchives': 0,'seriesCount': 0,'itemCount': 3,'componentCount': 68,'componentCountMatchedToMms': 0,'mmsContainers': [{'_id': 'e30b11d0-c61a-012f-eb21-58d385a7bc34','mmsDb': '270925','mmsType': 'Container','mmsUuid': 'e30b11d0-c61a-012f-eb21-58d385a7bc34','collectionUuid': 'e2c2d1b0-c61a-012f-d825-58d385a7bc34','dates': [{'field': 'dateCreated','type': 'w3cdtf','value': '1825','keyDate': 'yes','point': 'start','encoding': false}, {'field': 'dateCreated','type': 'w3cdtf','value': '1878','keyDate': false,'point': 'end','encoding': false}],'title': 'Correspondence.','hades': '1861331','sourceSystem': 'mms','rightsAgents': false,'agents': [],'subjects': [],'divisions': ['MSS'],'notes': [],'titles': [{'primary': true,'title': 'Correspondence.','subTitle': false,'partName': false,'partNumber': false,'supplied': 'no','lang': false,'script': false,'type': false,'authority': false}],'languages': [],'abstracts': [],'typeOfResource': [],'genres': [],'physicalDescriptions': [],'originInfos': [{'place': [],'publisher': []}],'containerUuid': false,'parents': ['e2c2d1b0-c61a-012f-d825-58d385a7bc34']}, {'_id': 'e3581d30-c61a-012f-7a0e-58d385a7bc34','mmsDb': '270926','mmsType': 'Container','mmsUuid': 'e3581d30-c61a-012f-7a0e-58d385a7bc34','collectionUuid': 'e2c2d1b0-c61a-012f-d825-58d385a7bc34','containerUuid': 'e30b11d0-c61a-012f-eb21-58d385a7bc34','dates': [{'field': 'dateCreated','type': 'w3cdtf','value': '1825','keyDate': 'yes','point': 'start','encoding': false}, {'field': 'dateCreated','type': 'w3cdtf','value': '1878','keyDate': false,'point': 'end','encoding': false}],'title': 'Letters from Welles.','hades': '1861333','sourceSystem': 'mms','rightsAgents': false,'agents': [],'subjects': [],'divisions': ['MSS'],'notes': [],'titles': [{'primary': true,'title': 'Letters from Welles.','subTitle': false,'partName': false,'partNumber': false,'supplied': 'no','lang': false,'script': false,'type': false,'authority': false}],'languages': [],'abstracts': [],'typeOfResource': [],'genres': [],'physicalDescriptions': [],'originInfos': [{'place': [],'publisher': []}],'parents': ['e30b11d0-c61a-012f-eb21-58d385a7bc34', 'e2c2d1b0-c61a-012f-d825-58d385a7bc34']}, {'_id': 'e45e2d10-c61a-012f-cc46-58d385a7bc34','mmsDb': '270927','mmsType': 'Container','mmsUuid': 'e45e2d10-c61a-012f-cc46-58d385a7bc34','collectionUuid': 'e2c2d1b0-c61a-012f-d825-58d385a7bc34','containerUuid': 'e30b11d0-c61a-012f-eb21-58d385a7bc34','dates': [{'field': 'dateCreated','type': 'w3cdtf','value': '1825','keyDate': 'yes','point': 'start','encoding': false}, {'field': 'dateCreated','type': 'w3cdtf','value': '1878','keyDate': false,'point': 'end','encoding': false}],'title': 'Letters to Welles','hades': '1861334','sourceSystem': 'mms','rightsAgents': false,'agents': [],'subjects': [],'divisions': ['MSS'],'notes': [],'titles': [{'primary': true,'title': 'Letters to Welles','subTitle': false,'partName': false,'partNumber': false,'supplied': 'no','lang': false,'script': false,'type': false,'authority': false}],'languages': [],'abstracts': [],'typeOfResource': [],'genres': [],'physicalDescriptions': [],'originInfos': [{'place': [],'publisher': []}],'parents': ['e30b11d0-c61a-012f-eb21-58d385a7bc34', 'e2c2d1b0-c61a-012f-d825-58d385a7bc34']}, {'_id': 'e5168b20-c61a-012f-b0b7-58d385a7bc34','mmsDb': '270928','mmsType': 'Container','mmsUuid': 'e5168b20-c61a-012f-b0b7-58d385a7bc34','collectionUuid': 'e2c2d1b0-c61a-012f-d825-58d385a7bc34','dates': [{'field': 'dateCreated','type': 'w3cdtf','value': '1825','keyDate': 'yes','point': 'start','encoding': false}, {'field': 'dateCreated','type': 'w3cdtf','value': '1878','keyDate': false,'point': 'end','encoding': false}],'title': 'Writings','hades': '1861332','sourceSystem': 'mms','rightsAgents': false,'agents': [],'subjects': [],'divisions': ['MSS'],'notes': [],'titles': [{'primary': true,'title': 'Writings','subTitle': false,'partName': false,'partNumber': false,'supplied': 'no','lang': false,'script': false,'type': false,'authority': false}],'languages': [],'abstracts': [],'typeOfResource': [],'genres': [],'physicalDescriptions': [],'originInfos': [{'place': [],'publisher': []}],'containerUuid': false,'parents': ['e2c2d1b0-c61a-012f-d825-58d385a7bc34']}],'mmsItems': [{'_id': 'e3c7d060-c61a-012f-72ed-58d385a7bc34','mmsDb': '4211862','mmsType': 'Item','mmsUuid': 'e3c7d060-c61a-012f-72ed-58d385a7bc34','captureIds': ['1692126, 1947308'],'collectionUuid': 'e2c2d1b0-c61a-012f-d825-58d385a7bc34','containerUuid': 'e3581d30-c61a-012f-7a0e-58d385a7bc34','dates': [{'field': 'dateCreated','type': 'w3cdtf','value': '1825','keyDate': 'yes','point': 'start','encoding': false}, {'field': 'dateCreated','type': 'w3cdtf','value': '1878','keyDate': false,'point': 'end','encoding': false}],'title': 'A. Fragment to "the President"','hades': '1861337','sourceSystem': 'mms','rightsAgents': false,'agents': [{'namePart': 'Welles, Gideon (1802-1878)','type': 'personal','authority': 'naf','valueURI': false,'usage': 'primary','role': ['http://id.loc.gov/vocabulary/relators/aut']}, {'namePart': 'Lincoln, Abraham (1809-1865)','type': 'personal','authority': 'naf','valueURI': false,'usage': 'primary','role': ['http://id.loc.gov/vocabulary/relators/rcp']}],'subjects': [],'divisions': ['MSS'],'notes': [{'type': 'content','text': 'Undated.'}],'titles': [{'primary': true,'title': 'A. Fragment to "the President"','subTitle': false,'partName': false,'partNumber': false,'supplied': 'no','lang': false,'script': false,'type': false,'authority': false}],'languages': [],'abstracts': [],'typeOfResource': ['still image'],'genres': [],'physicalDescriptions': [],'originInfos': [{'place': [],'publisher': []}],'parents': ['e3581d30-c61a-012f-7a0e-58d385a7bc34', 'e30b11d0-c61a-012f-eb21-58d385a7bc34', 'e2c2d1b0-c61a-012f-d825-58d385a7bc34'],'rights': ['Can be used on NYPL website', 'Can be sold through 3rd party print partner (e.g., New York Times)'],'publicDomain': false,'dcFlag': true}, {'_id': 'e4a012b0-c61a-012f-eecf-58d385a7bc34','mmsDb': '4211870','mmsType': 'Item','mmsUuid': 'e4a012b0-c61a-012f-eecf-58d385a7bc34','captureIds': ['1692127, 1947309'],'collectionUuid': 'e2c2d1b0-c61a-012f-d825-58d385a7bc34','containerUuid': 'e45e2d10-c61a-012f-cc46-58d385a7bc34','dates': [{'field': 'dateCreated','type': 'w3cdtf','value': '1825','keyDate': 'yes','point': 'start','encoding': false}, {'field': 'dateCreated','type': 'w3cdtf','value': '1878','keyDate': false,'point': 'end','encoding': false}, {'field': 'dateCreated','type': false,'value': '1861 Mar 7','keyDate': false,'point': false,'encoding': false}],'title': 'Letter to Abraham Lincoln.','originInfo': '1861 Mar 7','dateCreated': '1861 Mar 7','hades': '1861336','sourceSystem': 'mms','rightsAgents': false,'agents': [{'namePart': 'Lincoln, Abraham (1809-1865)','type': 'personal','authority': 'naf','valueURI': false,'usage': 'primary','role': ['http://id.loc.gov/vocabulary/relators/rcp']}],'subjects': [],'divisions': ['MSS'],'notes': [{'type': 'content','text': 'Written by Phillip Ripley and others.'}],'titles': [{'primary': true,'title': 'Letter to Abraham Lincoln.','subTitle': false,'partName': false,'partNumber': false,'supplied': 'no','lang': false,'script': false,'type': false,'authority': false}],'languages': [],'abstracts': [],'typeOfResource': ['still image'],'genres': [],'physicalDescriptions': [],'originInfos': [{'place': [],'publisher': []}, {'place': [],'publisher': []}],'parents': ['e45e2d10-c61a-012f-cc46-58d385a7bc34', 'e30b11d0-c61a-012f-eb21-58d385a7bc34', 'e2c2d1b0-c61a-012f-d825-58d385a7bc34'],'rights': ['Can be used on NYPL website', 'Can be sold through 3rd party print partner (e.g., New York Times)'],'publicDomain': false,'dcFlag': true}, {'_id': 'e54ce660-c61a-012f-50ed-58d385a7bc34','mmsDb': '4211877','mmsType': 'Item','mmsUuid': 'e54ce660-c61a-012f-50ed-58d385a7bc34','captureIds': ['1692128, 1947310, 1947311, 1947312, 1947313, 1947314, 1947315, 1947316, 1947317, 1947318, 1947319, 1947320, 1947321, 1947322, 1947323, 1947324, 1947325, 1947326, 1947327, 1947328, 1947329, 1947330, 1947331, 1947332, 1947333, 1947334, 1947335, 1947336, 1947337, 1947338, 1947339, 1947340, 1947341, 1947342, 1947343, 1947344, 1947345'],'collectionUuid': 'e2c2d1b0-c61a-012f-d825-58d385a7bc34','containerUuid': 'e5168b20-c61a-012f-b0b7-58d385a7bc34','dates': [{'field': 'dateCreated','type': 'w3cdtf','value': '1825','keyDate': 'yes','point': 'start','encoding': false}, {'field': 'dateCreated','type': 'w3cdtf','value': '1878','keyDate': false,'point': 'end','encoding': false}, {'field': 'dateCreated','type': 'w3cdtf','value': '1863','keyDate': 'yes','point': false,'encoding': false}],'title': 'Memoranda submitted for the consideration of President Lincoln relating to the proposed instructions to Navy Officer.','originInfo': '1863','dateCreated': '1863','hades': '1861335','sourceSystem': 'mms','rightsAgents': false,'agents': [{'namePart': 'Welles, Gideon (1802-1878)','type': 'personal','authority': 'naf','valueURI': false,'usage': 'primary','role': ['http://id.loc.gov/vocabulary/relators/aut']}],'subjects': [],'divisions': ['MSS'],'notes': [],'titles': [{'primary': true,'title': 'Memoranda submitted for the consideration of President Lincoln relating to the proposed instructions to Navy Officer.','subTitle': false,'partName': false,'partNumber': false,'supplied': 'no','lang': false,'script': false,'type': false,'authority': false}],'languages': [],'abstracts': [],'typeOfResource': ['still image'],'genres': [],'physicalDescriptions': [],'originInfos': [{'place': [],'publisher': []}, {'place': [],'publisher': []}],'parents': ['e5168b20-c61a-012f-b0b7-58d385a7bc34', 'e2c2d1b0-c61a-012f-d825-58d385a7bc34'],'rights': ['Can be used on NYPL website', 'Can be sold through 3rd party print partner (e.g., New York Times)'],'publicDomain': false,'dcFlag': true}],'archivesComponents': [{'_id': 1086246,'title': 'Correspondence','mssDb': 1086246,'mss': 1029112,'divisions': 'MSS','collectionDb': 2385,'type': 'Component','levelText': 'file','orderSequence': 1,'orderLevel': 1,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086247,'title': 'Letters from Welles','dateStatement': '1839-1875','mssDb': 1086247,'mss': 1029113,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086246,'type': 'Component','levelText': 'file','orderSequence': 1,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1839,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1875,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1839','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086248,'title': 'Letters to Welles','dateStatement': '1825-1839','mssDb': 1086248,'mss': 1029114,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086246,'type': 'Component','levelText': 'file','orderSequence': 2,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1825,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1839,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1825','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086249,'title': 'Letters to Welles','dateStatement': '1840-1846','mssDb': 1086249,'mss': 1029115,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086246,'type': 'Component','levelText': 'file','orderSequence': 3,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1840,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1846,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1840','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086250,'title': 'Letters to Welles','dateStatement': '1847-1864','mssDb': 1086250,'mss': 1029116,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086246,'type': 'Component','levelText': 'file','orderSequence': 4,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1847,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1864,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1847','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086251,'title': 'Letters to Welles','dateStatement': '1865-1878, undated','mssDb': 1086251,'mss': 1029117,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086246,'type': 'Component','levelText': 'file','orderSequence': 5,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1865,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1878,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1865','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086252,'title': 'Family correspondence','mssDb': 1086252,'mss': 1029118,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086246,'type': 'Component','levelText': 'file','orderSequence': 6,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086253,'title': 'Official Papers','mssDb': 1086253,'mss': 1029119,'divisions': 'MSS','collectionDb': 2385,'type': 'Component','levelText': 'file','orderSequence': 2,'orderLevel': 1,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086254,'title': 'An Act in addition to an Act "Authorizing the employment of the land and naval forces of the United States in cases insurrection". Approved','dateStatement': 'March 3, 1807','mssDb': 1086254,'mss': 1029120,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 1,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1807,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1807,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1807-03-03','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086255,'title': 'Amistad case','mssDb': 1086255,'mss': 1029121,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 2,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086256,'title': 'Amounts of money paid under contract for additional work on naval vessels','mssDb': 1086256,'mss': 1029122,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 3,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086257,'title': 'Canvass of votes for Hartford, Connecticut','dateStatement': '1838','mssDb': 1086257,'mss': 1029123,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 4,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1838,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1838,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1838','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086258,'title': 'Contract between the U. S. and the American and Atlantic Screw Steamship Company for the purchase of the steamships, Huntsville, Montgomery, and, R. R. Cuyler','dateStatement': '1861','mssDb': 1086258,'mss': 1029124,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 5,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1861,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1861,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1861','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086259,'title': 'Contract between the U. S. and the Hew York and Virginia Screw Company for the purchase of the steamships, Mount Vernon, and Monticello','dateStatement': '1861','mssDb': 1086259,'mss': 1029125,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 6,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1861,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1861,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1861','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086260,'title': 'Copy of letter from Lt. Rochelle to Dr. Conrad, found on captured Confederate Ram, Tennessee','dateStatement': 'dated July 17, 1864','mssDb': 1086260,'mss': 1029126,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 7,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1864,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1864,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1864-07-17','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086261,'title': 'Copies of two letters written by Confederate officers describing the mutiny of Confederate troops at Fort Jackson, Louisiana','dateStatement': '1862','mssDb': 1086261,'mss': 1029127,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 8,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1862,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1862,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1862','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086262,'title': "David Porter's plan to take New Orleans, submitted to David Farragut",'dateStatement': 'April 1862','mssDb': 1086262,'mss': 1029128,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 9,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1862,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1862,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1862-04','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086263,'title': 'Drafts of statement relative to rental by Welles of a house in Washington, D. C','mssDb': 1086263,'mss': 1029129,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 10,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086264,'title': 'Extracts from a Report of a Board of Engineers on sea coast fortifications','dateStatement': '1820','mssDb': 1086264,'mss': 1029130,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 11,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1820,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1820,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1820','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086265,'title': 'Eviction notices','dateStatement': '1843','mssDb': 1086265,'mss': 1029131,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 12,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1843,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1843,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1843','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086266,'title': 'Executive order to re-establish the authority of the U. S. and execute the laws within (the geographical limits known as) the State of Virginia','mssDb': 1086266,'mss': 1029132,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 13,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086267,'title': 'Investigation of the activities of Commander Charles M. Poor, captain of the U. S. S. Brooklyn, which resulted in the escape of the Confederate steamer, Sumter','dateStatement': '1861','mssDb': 1086267,'mss': 1029133,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 14,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1861,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1861,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1861','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086268,'title': 'Inventory of furniture belonging to the Post Office Department at Hartford, Connecticut','dateStatement': '1841','mssDb': 1086268,'mss': 1029134,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 15,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1841,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1841,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1841','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086269,'title': 'List of iron-clads','mssDb': 1086269,'mss': 1029135,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 16,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086270,'title': 'List of naval officers','dateStatement': 'undated','mssDb': 1086270,'mss': 1029136,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 17,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086271,'title': 'List of vessels under construction at [Philadelphia?]','dateStatement': '1865','mssDb': 1086271,'mss': 1029137,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 18,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1865,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1865,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1865','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086272,'title': 'Memoranda','dateStatement': '1866, undated','mssDb': 1086272,'mss': 1029138,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 19,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1866,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1866,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1866','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086273,'title': 'Memorandum concerning construction of the turret vessels, Puritan and Dictator','mssDb': 1086273,'mss': 1029139,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 20,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086274,'title': 'Miscellany','mssDb': 1086274,'mss': 1029140,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 21,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086275,'title': 'Newspaper clippings','mssDb': 1086275,'mss': 1029141,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 22,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086276,'title': 'Papers relative to the Bureau of Provisions and Clothing, U. S. Navy','dateStatement': '1846-1855','mssDb': 1086276,'mss': 1029142,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 23,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1846,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1855,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1846','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086277,'title': 'Papers relative to the Bureau of Provisions and Clothing, U. S. Navy','dateStatement': '1846-1855','mssDb': 1086277,'mss': 1029143,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 24,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1846,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1855,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1846','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086278,'title': 'Personal accounts','mssDb': 1086278,'mss': 1029144,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 25,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086279,'title': 'Petitions to President Johnson De Martini, Seraphina','dateStatement': '1865','mssDb': 1086279,'mss': 1029145,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 26,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1865,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1865,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1865','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086280,'title': 'Morrill, Tom, 1867 Post Office accounts, Hartford, Connecticut','dateStatement': '1840','mssDb': 1086280,'mss': 1029146,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 27,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1840,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1840,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1840','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086281,'title': 'Sailing orders','mssDb': 1086281,'mss': 1029147,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 28,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086282,'title': 'Scale of offers to construct steam gun-boats','dateStatement': '1861','mssDb': 1086282,'mss': 1029148,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 29,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1861,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1861,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1861','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086283,'title': 'Statements, recommendations, and charges relative to fraudulent activities at the Philadelphia Navy Yard, 1864. Suggestions and interrogations from a Loyalist to the North, 1861','mssDb': 1086283,'mss': 1029149,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 30,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086284,'title': 'Trial of Franklin K. Smith for fraud','dateStatement': '1865?','mssDb': 1086284,'mss': 1029150,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086253,'type': 'Component','levelText': 'file','orderSequence': 31,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1865,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1865,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1865','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086285,'title': 'Writings','mssDb': 1086285,'mss': 1029151,'divisions': 'MSS','collectionDb': 2385,'type': 'Component','levelText': 'file','orderSequence': 3,'orderLevel': 1,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086286,'title': "Comment upon the autobiographical sketch of Thurlow Weed relating to the formation of Lincoln's cabinet",'mssDb': 1086286,'mss': 1029152,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 1,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086287,'title': 'Comment upon the election of Zachary Taylor as marking the close of the second democratic dynasty in the U. S','mssDb': 1086287,'mss': 1029153,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 2,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086288,'title': 'Criticism of the report of Secretary Robeson of the Navy, with special reference to the recommendations of Admiral David D. Porter','dateStatement': '1870','mssDb': 1086288,'mss': 1029154,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 3,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1870,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1870,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1870','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086289,'title': 'Draft of a report recommending the establishment of the Naval Academy at Hampton Roads, Virginia','mssDb': 1086289,'mss': 1029155,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 4,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086290,'title': 'Draft of a report to the Senate relating to ships purchased by the Navy Department','mssDb': 1086290,'mss': 1029156,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 5,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086291,'title': 'Editorial on the election held in Kansas','dateStatement': 'March 30, 1855','mssDb': 1086291,'mss': 1029157,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 6,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1855,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1855,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1855-03-30','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086292,'title': 'Events leading to the nomination of Polk and Dallas','dateStatement': '1844','mssDb': 1086292,'mss': 1029158,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 7,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1844,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1844,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1844','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086293,'title': 'History of the expedition to relieve Fort Sumter with special reference to the activities of William H Seward, who opposed the expedition','mssDb': 1086293,'mss': 1029159,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 8,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086294,'title': 'Memoranda submitted for the consideration of President Lincoln relating to the proposed instructions to Navy Officer','dateStatement': '1863?','mssDb': 1086294,'mss': 1029160,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 9,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1863,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1863,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1863','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086295,'title': 'Notes on the navy forces of the U. S. becoming involved with England and France in a controversy with Japan in','dateStatement': 'July 186','mssDb': 1086295,'mss': 1029161,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 10,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086296,'title': 'Objections to the establishment of a Board of Admiralty in the U. S. Navy','mssDb': 1086296,'mss': 1029162,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 11,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086297,'title': 'Recollections of President Andrew Johnson and his Cabinet','mssDb': 1086297,'mss': 1029163,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 12,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086298,'title': 'Remarks on the proposed "circular" respecting capture','mssDb': 1086298,'mss': 1029164,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 13,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086299,'title': 'Remarks relative to the "doctrines" embodied in the Resolutions of the late State Democratic Convention [of Connecticut. 3]','dateStatement': 'undated','mssDb': 1086299,'mss': 1029165,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 14,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086300,'title': 'Reply to a statement of General Richard Taylor published in the North American Review and relating to Lincoln and Grant and the campaign before Richmond','mssDb': 1086300,'mss': 1029166,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 15,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086301,'title': "Review of President Lincoln's administration",'mssDb': 1086301,'mss': 1029167,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 16,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086302,'title': 'Review of the activities of William H. Seward as Secretary of State','mssDb': 1086302,'mss': 1029168,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 17,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086303,'title': 'Review of the events at the outbreak of the Civil War','mssDb': 1086303,'mss': 1029169,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 18,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086304,'title': 'Slave trade treaty between the U. S. and Great Britain and its relation to the Navy Department','mssDb': 1086304,'mss': 1029170,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 19,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086305,'title': 'Testimony before a committee of Congress relative to abuses of the franking privilege','dateStatement': '1840','mssDb': 1086305,'mss': 1029171,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 20,'orderLevel': 2,'agents': [],'subjects': [],'notes': [{'type': 'scopecontent','text': '<p>Draft of reply to report of the Committee.</p>'}],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1840,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1840,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1840','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086306,'title': "Tyler's break with the Whig party; Polk's nomination and election",'mssDb': 1086306,'mss': 1029172,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086285,'type': 'Component','levelText': 'file','orderSequence': 21,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086307,'title': 'Microfilm Reel List','mssDb': 1086307,'mss': 1029173,'divisions': 'MSS','collectionDb': 2385,'type': 'Component','levelText': 'file','orderSequence': 4,'orderLevel': 1,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086308,'title': 'Letters from Welles','dateStatement': '1839-1875','mssDb': 1086308,'mss': 1029174,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086307,'type': 'Component','levelText': 'file','orderSequence': 1,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1839,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1875,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1839','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086309,'title': 'Letters to Welles and others','mssDb': 1086309,'mss': 1029175,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086307,'type': 'Component','levelText': 'file','orderSequence': 2,'orderLevel': 2,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [],'abstracts': []}, {'_id': 1086310,'dateStatement': '1825-1840 November 15','mssDb': 1086310,'mss': 1029176,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086309,'type': 'Component','levelText': 'file','orderSequence': 1,'orderLevel': 3,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1825,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1840,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1825','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086311,'dateStatement': '1840 November 18-1861 March','mssDb': 1086311,'mss': 1029177,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086309,'type': 'Component','levelText': 'file','orderSequence': 2,'orderLevel': 3,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1840,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1861,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1840-11-18','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086312,'dateStatement': '1861 June-1865, undated','mssDb': 1086312,'mss': 1029178,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086309,'type': 'Component','levelText': 'file','orderSequence': 3,'orderLevel': 3,'agents': [],'subjects': [],'notes': [],'languages': [],'dates': [{'field': 'inclusive','type': false,'value': 1861,'keyDate': false,'point': 'start','encoding': false}, {'field': 'inclusive','type': false,'value': 1865,'keyDate': false,'point': 'end','encoding': false}, {'field': 'exact','type': false,'value': '1861-06','keyDate': true,'point': false,'encoding': false}],'abstracts': []}, {'_id': 1086313,'title': 'Family Papers, documents, accounts, memoranda, miscellany','mssDb': 1086313,'mss': 1029179,'divisions': 'MSS','collectionDb': 2385,'parentDb': 1086307,'type': 'Component','levelText': 'file','orderSequence': 3,'orderLevel': 2,'agents': [],'subjects': [],'notes': [{'type': 'scopecontent','text': '<p>Writings of Gideon Welles.</p>'}],'languages': [],'dates': [],'abstracts': []}],'seriesCountMatchedToMms': 0,'collection': {'_id': 'e2c2d1b0-c61a-012f-d825-58d385a7bc34','mmsDb': '29131','mmsType': 'Collection','mmsUuid': 'e2c2d1b0-c61a-012f-d825-58d385a7bc34','dates': [{'field': 'dateCreated','type': 'w3cdtf','value': '1825','keyDate': 'yes','point': 'start','encoding': false}, {'field': 'dateCreated','type': 'w3cdtf','value': '1878','keyDate': false,'point': 'end','encoding': false}],'title': 'Gideon Welles papers, 1825-1878, bulk (1840-1864)','originInfo': '18251878','dateCreated': '1878','hades': '1861330','bNumber': 'b11992527','catnyp': 'b3437170','callNumber': 'MssCol 3275','mss': '3275','sourceSystem': 'mms','rightsAgents': false,'agents': [],'subjects': [],'divisions': ['MSS'],'notes': [],'titles': [{'primary': true,'title': 'Gideon Welles papers, 1825-1878, bulk (1840-1864)','subTitle': false,'partName': false,'partNumber': false,'supplied': 'no','lang': 'eng','script': false,'type': false,'authority': false}],'languages': [],'typeOfResource': [],'abstracts': [],'genres': [],'physicalDescriptions': [],'originInfos': [{'place': [],'publisher': []}],'matchedArchives': true,'matchedArchivesType': 'identifier','archivesCollectionDb': [2385]}} // eslint-disable-line
    var r = mapUtils.mapHierarchyByContainers(data)
    console.log(r)
  })
})
